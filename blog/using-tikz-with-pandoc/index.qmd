---
title: Using Tikz with Pandoc
date: 2022-02-18T20:03:31-06:00
categories: [pandoc]
keywords: tikz, latex, pandoc, lua, filter
summary: Showcase of using integrating Tikz with Pandoc lua filters
execute:
  freeze: false # macos issue with installing tectonic on arm m1. execute freeze false renders on github
---

It would be nice to integrate Tikz as part of the blog.

```tikz
\begin{tikzpicture}

\def \n {5}
\def \radius {3cm}
\def \margin {8} % margin in angles, depends on the radius

\foreach \s in {1,...,\n}
{
  \node[draw, circle] at ({360/\n * (\s - 1)}:\radius) {$\s$};
  \draw[->, >=latex] ({360/\n * (\s - 1)+\margin}:\radius)
    arc ({360/\n * (\s - 1)+\margin}:{360/\n * (\s)-\margin}:\radius);
}
\end{tikzpicture}
```

```{julia}
#| include: false
using Pkg
Pkg.activate(@__DIR__)
Pkg.instantiate()
```


```{julia}
#| code-fold: true
#| error: true
using Markdown
if !Sys.isapple()
  using TikzPictures
  tp = TikzPicture(L"""
  \def \n {5}
  \def \radius {3cm}
  \def \margin {8} % margin in angles, depends on the radius

  \foreach \s in {1,...,\n}
  {
    \node[draw, circle] at ({360/\n * (\s - 1)}:\radius) {$\s$};
    \draw[->, >=latex] ({360/\n * (\s - 1)+\margin}:\radius)
      arc ({360/\n * (\s - 1)+\margin}:{360/\n * (\s)-\margin}:\radius);
  }
  """)
  save(SVG("test"), tp)
  md"""![](./test.svg)"""
end
```

